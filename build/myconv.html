<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.20.1: https://docutils.sourceforge.io/" />
<title>MyConv</title>
<link rel="stylesheet" href="aux/min.css" type="text/css" />
</head>
<body>
<div class="document" id="myconv">
<h1 class="title">MyConv</h1>

<p>Deadline: September 12th, 2014</p>
<div class="section" id="instructions">
<h1>1&nbsp;&nbsp;&nbsp;Instructions</h1>
<p>You must implement the following functions:</p>
<pre class="code c literal-block">
<span class="kt">int</span><span class="w"> </span><span class="nf">my_dec2int</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="p">);</span><span class="w">
</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">my_dec2uint</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="p">);</span><span class="w">
</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">my_hex2uint</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="p">);</span><span class="w">
</span><span class="kt">int</span><span class="w"> </span><span class="nf">my_int2dec</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">n</span><span class="p">);</span><span class="w">
</span><span class="kt">int</span><span class="w"> </span><span class="nf">my_uint2dec</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">n</span><span class="p">);</span><span class="w">
</span><span class="kt">int</span><span class="w"> </span><span class="nf">my_uint2hex</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">dst</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">v</span><span class="p">);</span>
</pre>
<p>You can optionally also implement the following for
a higher grade:</p>
<pre class="code c literal-block">
<span class="kt">long</span><span class="w"> </span><span class="nf">my_strtol</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">endptr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">base</span><span class="p">);</span><span class="w">
</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="nf">my_strtoul</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">endptr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">base</span><span class="p">);</span>
</pre>
<ul class="simple">
<li>each function must be implemented in a <tt class="docutils literal">.c</tt> file of its own, named
after the function it contains. The function prototypes must be
declared in a <tt class="docutils literal">.h</tt> file, in accordance with the C coding standard.
The submitted archive may (but needs not) include a test program.</li>
<li>you must not include any standard/system header in your code; nor
use any function from the standard C library. You may
use functions from a previous assignment (by including
their source in your submission).</li>
</ul>
</div>
<div class="section" id="function-semantics">
<h1>2&nbsp;&nbsp;&nbsp;Function semantics</h1>
<p><tt class="docutils literal">my_dec2int(x)</tt>, <tt class="docutils literal">my_dec2uint(x)</tt> and <tt class="docutils literal">my_hex2uint(x)</tt> all read
the representation of a number stored in the nul-terminated string <tt class="docutils literal">x</tt>
and returns it as a C integer. For <tt class="docutils literal">my_dec2int</tt>, the input string may
start with a minus sign if the number is negative; for all three the
remainder of the input string are valid digits. As the name implies,
<tt class="docutils literal">my_dec2int</tt> and <tt class="docutils literal">my_dec2uint</tt> read a decimal number
representation, whereas <tt class="docutils literal">my_hex2uint</tt> reads an hexadecimal number
representation (with digits 0-9 or A-F in either upper or lower case).</p>
<p>The first 3 functions will be tested mainly with operands that
are guaranteed to fit their output type. Optionally, you can choose to implement
saturation for exceedingly large operands, ie. round to the closest C integer.</p>
<p><tt class="docutils literal">my_int2dec(d, v, n)</tt> places the decimal representation of <tt class="docutils literal">v</tt>
into the buffer pointed to by <tt class="docutils literal">d</tt>, using up to a maximum of <tt class="docutils literal">n</tt>
characters, and returns the number of characters actually written.
<tt class="docutils literal">my_uint2dec</tt> does the same starting with an unsigned integer; and
<tt class="docutils literal">my_uint2hex</tt> does the same using base 16. If the output buffer is
not large enough, then the conversion must not take place and the
function must return 0.</p>
<p>The optional functions <tt class="docutils literal">my_strtol</tt> and <tt class="docutils literal">my_strtoul</tt> must match the
documentation of the standard C functions of the same names (without
the <tt class="docutils literal">my_</tt> prefix).</p>
</div>
<div class="section" id="grading">
<h1>3&nbsp;&nbsp;&nbsp;Grading</h1>
<ul class="simple">
<li>1 point per function correctly implemented in the mandatory list.</li>
<li>+0.5 if all of the above, and a <tt class="docutils literal">Makefile</tt> places the functions in
<tt class="docutils literal">libminic.a</tt>.</li>
<li>+1 per optional function correctly implemented after all of the
above.</li>
<li>+0.5 if saturation is properly implemented.</li>
<li>+1 if the code is properly factored, ie. each conversion direction
reuses the same code from multiple functions.</li>
</ul>
<p><strong>Beware of edge cases!</strong> Test your functions very carefully.</p>
</div>
<hr class="docutils" />
<div class="section" id="copyright-and-licensing">
<h1>4&nbsp;&nbsp;&nbsp;Copyright and licensing</h1>
<p>Copyright Â© 2014, <a class="reference external" href="https://raphaelposs.com">Raphael Poss</a>.  Permission is granted to
distribute, reuse and modify this document and other documents for the
Systems Programming course by the same author according to the terms
of the Creative Commons Attribution-ShareAlike 4.0 International
License.  To view a copy of this license, visit
<a class="reference external" href="http://creativecommons.org/licenses/by-sa/4.0/">http://creativecommons.org/licenses/by-sa/4.0/</a>.</p>
</div>
</div>
</body>
</html>
